<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Frontend Development Challenge</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css">
    <link rel="stylesheet" href="styles.css">
</head>
<body>
    <h1>Three Images Displayed on HTML Page</h1>
    <div class="content-box second">
        <h2 id="Challenge-outline">Challenge outline - Health Challenge Tracker</h2>
        <h3 id="Design-an-Angular">Design an Angular 14+ single-page application (SPA) that takes inputs</h3>
        <ul class="list-style">
            <li>User name</li>
            <li>Workout Type</li>
            <li>Workout minutes</li>
        </ul>
        <div class="image-container firstWorkout">
            <img src="workout1.png" alt="Example Image" class="styled-image" id="mainImage" onclick="openModal(0)">
            <div class="overlay">
                <a href="workout1.png" target="_blank" class="overlay-link">View original</a>
            </div>
        </div>

        <h3 id="Display">Display the user workout list with the below functionalities</h3>
        <ul class="list-style">
            <li>Search by name</li>
            <li>Filter by workout type</li>
            <li>Pagination</li>
        </ul>
        <div class="image-container secondWorkout">
            <img src="workout2.png" alt="Example Image" class="styled-image" id="mainImageS" onclick="openModal(1)">
            <div class="overlay">
                <a href="workout2.png" target="_blank" class="overlay-link">View original</a>
            </div>
        </div>

        <h3 id="Optional-feature">Optional feature -> Display the workout progress using charts</h3>
        <div class="image-container secondWorkout">
            <img src="workout3.png" alt="Example Image" class="styled-image" id="mainImageT" onclick="openModal(2)">
            <div class="overlay">
                <a href="workout3.png" target="_blank" class="overlay-link">View original</a>
            </div>
        </div>
        
        <div class="N-content">
            <span class="bulb-icon">ðŸ’¡</span>
            <span class="N-text">The screenshots are for representation purposes, feel free to beautify them as needed!</span>
        </div>
    </div>

    <!-- Modal Structure -->
    <div id="imageModal" class="modal">
        <img src="" alt="Expanded Image" class="modal-content" id="modalImage">
        <div class="all-options">
            <button class="prev" id="prevImage">&lt;</button>
            <button class="next" id="nextImage">&gt;</button>
            <button class="zoom-in" id="zoomIn">+</button>
            <button class="zoom-out" id="zoomOut">-</button>
            <a id="downloadImage" download class="download-btn">Download</a>
            <span class="close" id="closeModal">&times;</span>
        </div>
    </div>

    <script>
        const modal = document.getElementById('imageModal');
        const modalImg = document.getElementById('modalImage');
        const downloadLink = document.getElementById('downloadImage');
        const closeModal = document.getElementById('closeModal');

        const images = [
            'workout1.png',
            'workout2.png',
            'workout3.png'
        ];
        let currentIndex = 0;
        let zoomLevel = 1;

        function openModal(index) {
            currentIndex = index;
            modal.style.display = "flex";
            modalImg.src = images[currentIndex];
            downloadLink.href = images[currentIndex];
        }

        document.getElementById('prevImage').onclick = function() {
            currentIndex = (currentIndex > 0) ? currentIndex - 1 : images.length - 1;
            modalImg.src = images[currentIndex];
            downloadLink.href = images[currentIndex];
            resetZoom();
        };

        document.getElementById('nextImage').onclick = function() {
            currentIndex = (currentIndex < images.length - 1) ? currentIndex + 1 : 0;
            modalImg.src = images[currentIndex];
            downloadLink.href = images[currentIndex];
            resetZoom();
        };

        document.getElementById('zoomIn').onclick = function() {
            zoomLevel += 0.2;
            modalImg.style.transform = `scale(${zoomLevel})`;
        };

        document.getElementById('zoomOut').onclick = function() {
            if (zoomLevel > 1) {
                zoomLevel -= 0.2;
                modalImg.style.transform = `scale(${zoomLevel})`;
            }
        };

        closeModal.onclick = function() {
            modal.style.display = "none";
            resetZoom();
        };

        window.onclick = function(event) {
            if (event.target === modal) {
                modal.style.display = "none";
                resetZoom();
            }
        };

        function resetZoom() {
            zoomLevel = 1;
            modalImg.style.transform = `scale(${zoomLevel})`;
        }
    </script>
</body>
</html>
